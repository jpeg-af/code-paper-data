---------------------------------------------------------------------------
Copyright (c) 2014 Beihang University, and GIPSA-Lab/Grenoble INP
All Rights Reserved.
---------------------------------------------------------------------------
Permission to use, copy, or modify this software and its documentation
for educational and research purposes only and without fee is hereby
granted, provided that this copyright notice and the original authors'
names appear on all copies and supporting documentation. This program
shall not be used, rewritten, or adapted as the basis of a commercial
software or hardware product without first obtaining permission of the
authors. The authors make no representations about the suitability of
this software for any purpose. It is provided "as is" without express
or implied warranty.
---------------------------------------------------------------------------
If you find any bugs, please kindly report to us.
Wei FAN  <wei.fan@gipsa-lab.grenoble-inp.fr>
---------------------------------------------------------------------------

The Matlab codes in this package can be used to process 8-bit grayscale 
JPEG images using the JPEG anti-forensic method proposed in:

Wei Fan, Kai Wang, Fran√ßois Cayre, and Zhang Xiong, "JPEG Anti-Forensics 
with Improved Trade-off between Forensic Undetectability and Image Quality",
IEEE Transactions on Information Forensics and Security, 2014. (to appear)

Please run 'demo.m' to see how the code works to process a JPEG image using
the proposed JPEG anti-forensic method.

Note that, when generating the dithering signal or during the DCT 
coefficient projection, there is certain randomness. Therefore, it cannot 
be guaranteed that each running of the program will produce *exactly* the 
same output. However, the difference among the results generated by 
different runnings of the program is very slight.

To obtain the results shown in the paper, please run the test on the UCID-v2
data corpus (only the luminance component of the image is considered, whose
extraction can be carried out using the Matlab function rgb2ycbcr). 

---------------------------------- Files ----------------------------------

This package contains certain codes provided by other authors. Please check
the file list below to get an overview. Under their copyright claim, we are
allowed to use, copy, modify, and distribute the related codes for 
educational, research and non-profit purposes. We hereby put these codes 
in this package to save the user's time to download them.

./jpegtbx_1.4/*                - the files contained in the Matlab JPEG 
                                 Toolbox written by Phil Sallee, for more 
                                 information, please read the file 
                                 ./jpegtbx_1.4/README

./measures/blk_grad_measure.m  - calculate the JPEG blocking signature 
                                 measure defined in Eq. (4) in the paper
./measures/blk_measure.m       - calculate the JPEG blocking signature 
                                 measure defined in Eq. (1) in the paper
./measures/cali_feature.m      - calculate the calibrated feature value 
                                 defined in Eq. (3) in the paper
./measures/KLDivs.m            - calculate the KL divergences of all 64 DCT 
                                 subbands of two images in comparison
./measures/maxDeltaTV.m        - calculate the JPEG forensic measure defined 
                                 in Eq. (2) in the paper
./measures/psnr.m              - calculate the PSNR value between two images
./measures/qtable_est.m        - estimate the quantization table matrix from 
                                 a bitmap representation of one image using 
                                 the MLE
./measures/ssim.m              - calculate the Structural SIMilarity (SSIM)
                                 index between two images, written by Zhou 
                                 Wang, for more information, please read the 
                                 description in the file 

./addRndAdaptDither.m          - for building the adaptive local dithering 
                                 signal model of the DCT coefficients, for 
                                 more information, please see Sec. IV-B2
./deCalibration.m              - apply de-calibration operation to the image, 
                                 please see Sec. IV-D in the paper for more 
                                 information
./demo.m                       - a demo file to process a JPEG image using 
                                 the JPEG anti-forensic method proposed in 
                                 the paper
./hfPerturb.m                  - DCT coefficient perturbation for some 
                                 high-frequency subbands to avoid a high 
                                 portion of DCT coefficients whose rounded 
                                 values are integer multiples of 3,
                                 for more information, please see Sec. IV-C
./lena.pgm                     - uncompressed Lena image
./lena-50.jpg                  - JPEG compressed Lena image with quality 
                                 factor 50, the JPEG compression was carried 
                                 out using Matlab function 'imwrite'
./munkres.m                    - one implementation of Hungarian algorithm 
                                 for solving the assignment problem, written
                                 by Yi Cao, for more information, please read 
                                 the description in the file 
./PadOrCrop.m                  - a function which adapts one image to have 
                                 a target size, written by Marco Fontani, 
                                 for more information, please read the 
                                 description in the file 
./PerDCThistSMTH.m             - apply perceptual DCT histogram smoothing, 
                                 for more information, please refer to 
                                 Sec. IV-B3 in the paper
./pmfLaplacian.m               - the discrete Laplacian model
./randPOQCS.m                  - the projection operator to constraint image 
                                 space U defined in Eq. (7) in the paper
./README                       - this file
./ssim_index.m                 - calculate the Structural SIMilarity (SSIM) 
                                 index between two images, written by Zhou 
                                 Wang, for more information, please read the 
                                 description in the file 
./TVsubGradJPEGDeblk.m         - apply TV-based deblocking to the image, 
                                 please see Sec. IV-A and IV-C in the paper 
                                 for more information

---------------------------------------------------------------------------